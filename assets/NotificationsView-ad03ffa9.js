import{b as m}from"./blank-profile-43108401.js";import{_ as p,n as l,J as v,U as I,o as r,d as _,e,H as g,t as d,g as N,a as f,p as b,j as w,r as y,s as C,K as E,M as S,F as x,x as U,y as B}from"./index-93fc8f53.js";const h=o=>(b("data-v-e6abc54b"),o=o(),w(),o),T={class:"notification--item"},R=["src"],q=h(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[e("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1)),O=[q],k=h(()=>e("button",{class:"btn btn-danger btn-circle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512"},[e("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})])],-1)),L={__name:"NotificationItem",props:{connection:{type:Object,required:!0},onConnect:{type:Function,required:!0}},setup(o){const t=o,i=l(v);i.onDone(c=>{s.mutate({connectionRequest_id:t.connection.connectionRequest_id})});const s=l(I);s.onDone(c=>{t.onConnect()});const u=()=>{i.mutate({user_id:f().getId,friend_id:t.connection.userByUserId.user_id})};return(c,a)=>(r(),_("div",T,[e("img",{src:t.connection.userByUserId.avatar||g(m),alt:"profile pic"},null,8,R),e("div",null,[e("p",null,[e("strong",null,d(t.connection.userByUserId.name)+" "+d(t.connection.userByUserId.lastname1)+" "+d(t.connection.userByUserId.lastname2),1),N(" te ha enviado una solicitud de conexion ")]),e("div",{class:"flex-row mt-2"},[e("button",{onClick:u,class:"btn btn-primary btn-circle me-3"},O),k])])]))}},M=p(L,[["__scopeId","data-v-e6abc54b"]]),A={class:"container"},D={class:"notification--container"},Q={__name:"NotificationsView",setup(o){const t=f(),i=y([]),s=C(E,{user_id:t.getId});s.onResult(c=>{var a,n;((a=c.data)==null?void 0:a.connection_requests.length)>0&&(i.value=(n=c.data)==null?void 0:n.connection_requests)});const u=()=>{s.refetch()};return S(()=>{s.refetch()}),(c,a)=>(r(),_("div",A,[e("div",D,[(r(!0),_(x,null,U(i.value.filter(n=>n.accepted===!1),n=>(r(),B(M,{key:n.connectionRequest_id,connection:n,"on-connect":u},null,8,["connection"]))),128))])]))}},$=p(Q,[["__scopeId","data-v-f9ff92e5"]]);export{$ as default};
