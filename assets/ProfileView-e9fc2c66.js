import{a as p,o as r,d as v,e as s,_ as E,r as b,n as w,N as C,O as N,y as A,i as I,w as D,h as S,f as P,v as R,P as k,T,p as $,j as y,A as x,s as G,Q as M,M as O,H as m,t as h,F as U,D as V,R as B}from"./index-93fc8f53.js";import{b as F}from"./blank-profile-43108401.js";const Q={class:"uw"},q=s("p",null,"Foto de perfil",-1),L="dfofqtsfr",j="softtracker",W={__name:"UploadWidget",setup(e){const a=cloudinary.createUploadWidget({cloudName:L,uploadPreset:j},(d,t)=>{!d&&t&&t.event==="success"&&p().setAvatar(t.info.secure_url)}),o=()=>{a.open()};return(d,t)=>(r(),v("div",Q,[q,s("button",{onClick:o,id:"upload_widget",class:"cloudinary-button"}," Subir archivos ")]))}},g=e=>($("data-v-d9bb798b"),e=e(),y(),e),H={key:0,class:"modal-mask"},K={class:"modal-container"},Y=g(()=>s("div",{class:"modal-header"},[s("h3",null,"Editar perfil")],-1)),z={class:"modal-body"},J=["onSubmit"],X={class:"mb-3"},Z={class:"mb-3"},ss=g(()=>s("label",{for:"post-description",class:"form-label"},"Descripcion",-1)),as=g(()=>s("button",{type:"submit",class:"btn btn-primary"}," Guardar cambios ",-1)),es={class:"modal-footer"},os={__name:"Modal",props:{show:Boolean,description:String},setup(e){const a=e,o=b(a.description),d=w(C);d.onDone(n=>{console.log(n)});const t=w(N);t.onDone(n=>{});const c=()=>{d.mutate({user_id:p().getId,description:o.value}),t.mutate({user_id:p().getId,avatar:p().getAvatar})};return(n,i)=>(r(),A(T,{name:"modal"},{default:I(()=>[a.show?(r(),v("div",H,[s("div",K,[Y,s("div",z,[s("form",{onSubmit:D(c,["prevent"])},[s("div",X,[S(W)]),s("div",Z,[ss,P(s("textarea",{class:"form-control",id:"post-description",rows:"3",placeholder:"Cuentanos sobre ti","onUpdate:modelValue":i[0]||(i[0]=_=>o.value=_)},`
              `,512),[[R,o.value]])]),as],40,J)]),s("div",es,[s("button",{class:"modal-default-button",onClick:i[1]||(i[1]=_=>n.$emit("close"))}," OK ")])])])):k("",!0)]),_:1}))}},ts=E(os,[["__scopeId","data-v-d9bb798b"]]),ds=e=>($("data-v-0fff72f8"),e=e(),y(),e),ns={class:"container"},is={class:"contentMain flex-column bg-white rounded"},rs={class:"row col"},cs={class:"profile-avatar col order-1"},ls=["src"],fs={class:"content-user col order-2"},us={class:"user-edit row"},ps={class:"username col order-1 rounded"},vs={class:"btnEdit col order-2 rounded"},_s={class:"userdesc col order-3 rounded"},hs=V('<div class="container2" data-v-0fff72f8><div class="contentGraph flex-column bg-white rounded" data-v-0fff72f8><div class="row" data-v-0fff72f8><div class="graphDisplay" data-v-0fff72f8><div class="rounded" data-v-0fff72f8> GRAFICO DE TELARANIA </div></div><div class="infoGarph" data-v-0fff72f8><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Comunicacion efectiva</span></div><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Trabajo en equipo</span></div><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Pensamiento critico</span></div><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Adaptabilidad</span></div><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Resolucion de problemas</span></div><div class="descGarph rounded" data-v-0fff72f8><span data-v-0fff72f8>Orientacion al detalle</span></div></div></div></div></div>',1),ms=ds(()=>s("h3",null,"custom header",-1)),bs={__name:"ProfileView",setup(e){const a=b({}),o=x(),d=p(),t=G(M,{user_id:o.params.id}),c=w(B);c.onDone(l=>{alert("Solicitud de conexion exitosa")}),c.onError(l=>{alert("No puedes conectar con este usuario")}),t.onResult(l=>{var f,u;((f=l.data)==null?void 0:f.users.length)>0&&(a.value=(u=l.data)==null?void 0:u.users[0])}),O(()=>{t.refetch({user_id:o.params.id})});const n=b(!1),i=()=>{n.value=!1,t.refetch({user_id:o.params.id})},_=()=>{c.mutate({user_id:d.getId,friend_id:o.params.id})};return(l,f)=>{var u;return r(),v(U,null,[s("div",ns,[s("div",is,[s("div",rs,[s("div",cs,[s("img",{src:a.value.avatar?a.value.avatar:m(F),alt:"imagen de usuario",style:{width:"100%",height:"100%"}},null,8,ls)]),s("div",fs,[s("div",us,[s("div",ps,[s("span",null," @"+h(a.value.name)+" "+h(a.value.lastname1)+" "+h(a.value.lastname2),1)]),s("div",vs,[m(d).getId.toString()===m(o).params.id?(r(),v("button",{key:0,onClick:f[0]||(f[0]=ws=>n.value=!0),class:"btn btn-primary"}," Editar perfil ")):(r(),v("button",{key:1,onClick:_,class:"btn btn-primary"}," Conectar "))])]),s("div",_s,[s("span",null,h(((u=a.value.profiles)==null?void 0:u.length)>0?a.value.profiles[0].description:"No hay descripciÃ³n"),1)])])])])]),hs,S(ts,{show:n.value,onClose:i},{header:I(()=>[ms]),_:1},8,["show"])],64)}}},Is=E(bs,[["__scopeId","data-v-0fff72f8"]]);export{Is as default};
